# üìñ Quizory

[![m][bdg-mit]][mit]

Quizory is a (WIP) minimalistic history trivia app that generates its content on regular intervals
by consuming [OpenAI][openai]'s GPT-4 models.

I built it because I like history, and wanted to learn in a fun way ü§ì

You may try Quizory by visiting the following links:

1. [https://quizory.vercel.app][app] for the app
2. [Swagger Docs][swagger-docs] for the API docs

> **Disclaimer:** While Quizory aims to provide accurate historical information, it is important to
> acknowledge that the content generated by LLMs may occasionally include inaccuracies. Please
> remember that this project is intended for entertainment purposes only and should not be
> considered a definitive source of historical facts.

## Local Dev Setup

### Dependencies

This project requires the following to be installed in your machine:

1. [Go v1.23][go]
2. [Node v20.10][nodejs] + [pnpm][pnpm]
3. [Docker][docker]
4. [Docker Compose][docker-compose]
5. [Protobuf][protobuf]

Also, make sure you have:

1. A [Supabase][supabase] account (free tier) with [Google's auth provider enabled][supabase-google].
2. An [OpenAI][openai] account with access to GPT4.

Even though not a hard requirement, having `Make` available will allow you to follow the examples
detailed in this doc. You may use `Make help` to take a look at the main commands available.

### Environment Variables

Make sure you have a `.env.quizory` file in your root dir filled as follows:

```env
DB_URL=postgres://postgres:postgres@postgres:5432/postgres?sslmode=disable
LLM_OPENAI_KEY=<your-openai-key>
SERVER_JWT_SECRET=<your-supabase-jwt-secret>
```

Also, make sure you have a `client/.env.local` file filled as follows:

```env
VITE_SUPABASE_URL=<your-supabase-url>
VITE_SUPABASE_KEY=<your-supabase-public-key>
VITE_BASE_API_URL="http://localhost:8080"
```

### Running The App

```sh
# Install the Go & JS dependencies
$ make install

# Concurrently turn on:
#   1. A local Postgres database via docker-compose
#   2. The Go backend (port 8080), with live-reload via air
#   3. The React (port 5173), with HMR
#   4. The OTel stack - Grafana (UI via port 3000), Loki, Prometheus & Jaeger
$ make dev

# In a separate shell, you may seed some questions manually to get started:
$ make questionsgen
```

You should now be able to access http://localhost:5173 and explore the app.

You can also access Grafana via http://localhost:3000, and login with admin/admin credentials.

### Configuring

This project relies on [viper][viper] for configuration management. You may find the configuration file
in `config/config.yaml`, and exposed to Go via `config/config.go`.

### Testing

```sh
$ make test
```

## Credits

None of the questions, answers or historical context served by this project have been provided by me.
All has been generated from [OpenAI][openai]'s GPT-4 models. So...

1. Yes, thanks OpenAI.
2. More importantly, thanks _to whoever's data was used to train GPT4_.

Furthermore, this project relied heavily on:

1. [DaisyUI][daisyui] - Licensed under the [MIT License][daisyui-license]
2. [openai-go][openai-go] - Licensed under the [Apache License, Version 2.0][openai-go-license]
3. [oapi-codegen][oapi-codegen] - Licensed under the [Apache License, Version 2.0][oapi-codegen-license]
4. [SQLBoiler][sqlboiler] - Licensed under the [BSD-3-Clause License][sqlboiler-license]

## License

Copyright (c) 2024, Sebasti√°n Salata Ruiz-Tagle

_Quizory_ is [MIT licensed](./LICENSE).

[app]: https://quizory.vercel.app/
[bdg-mit]: https://img.shields.io/badge/License-MIT-blue.svg
[daisyui-license]: https://github.com/saadeghi/daisyui?tab=MIT-1-ov-file
[daisyui]: https://daisyui.com/
[docker-compose]: https://docs.docker.com/compose/
[docker]: https://www.docker.com/
[go]: https://golang.org/
[mit]: https://opensource.org/licenses/MIT
[nodejs]: https://nodejs.org/en
[oapi-codegen-license]: https://github.com/oapi-codegen/oapi-codegen?tab=Apache-2.0-1-ov-file
[oapi-codegen]: https://github.com/oapi-codegen/oapi-codegen
[openai]: https://openai.com/
[openai-go-license]: https://github.com/openai/openai-go?tab=Apache-2.0-1-ov-file
[openai-go]: https://github.com/openai/openai-go
[pnpm]: https://pnpm.io/
[protobuf]: https://github.com/protocolbuffers/protobuf
[sqlboiler-license]: https://github.com/volatiletech/sqlboiler?tab=BSD-3-Clause-1-ov-file
[sqlboiler]: https://github.com/volatiletech/sqlboiler
[supabase]: https://supabase.com/
[supabase-google]: https://supabase.com/docs/guides/auth/social-login/auth-google
[swagger-docs]: https://quizory-api.salatart.com/openapi/swagger/index.html
[viper]: https://github.com/spf13/viper
